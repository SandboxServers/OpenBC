# App.py SWIG Wrapper Structure Analysis

## Overview
- 14,078 lines total
- Generated by SWIG for Python 1.5.2
- Imports: `Appc` (C extension), `new` (Python 1.5.2 stdlib)

## Structure Pattern (repeated 315 times)

```python
class ClassName:
    def __init__(self, this):
        self.this = this           # SWIG pointer string like "_p_TGNetwork"
    # For constructable objects:
    def __init__(self, *args):
        self.this = apply(Appc.new_ClassName, args)
        self.thisown = 1
    def __del__(self, Appc=Appc):
        if self.thisown == 1:
            Appc.delete_ClassName(self)
    # Property access via __setmethods__ / __getmethods__ dicts
    __setmethods__ = { "field": Appc.ClassName_field_set, ... }
    __getmethods__ = { "field": Appc.ClassName_field_get, ... }
    def __setattr__(self, name, value):
        if (name == "this") or (name == "thisown"): self.__dict__[name] = value; return
        method = ClassName.__setmethods__.get(name, None)
        if method: return method(self, value)
        self.__dict__[name] = value
    def __getattr__(self, name):
        method = ClassName.__getmethods__.get(name, None)
        if method: return method(self)
        raise AttributeError, name    # <-- NEEDS TRANSFORM
    def __repr__(self):
        return "<C ClassName instance at %s>" % (self.this,)

class ClassNamePtr(ClassName):
    def __init__(self, this):
        self.this = this
        self.thisown = 0
        self.__class__ = ClassName

# Methods bound via new.instancemethod:
ClassName.Method = new.instancemethod(Appc.ClassName_Method, None, ClassName)
```

## Key SWIG Pointer Pattern
- `self.this` holds a SWIG pointer string like `"_80a3f28_p_TGNetwork"`
- Appc functions accept objects, extract `.this` to get the pointer
- ClassNamePtr wraps an existing pointer (thisown=0, won't delete)
- ClassName creates new objects (thisown=1, will delete in __del__)

## Globals Section (lines 13170+)
```python
globals = Appc.globals  # A SWIG global variable accessor object
g_kSystemWrapper = TGSystemWrapperClassPtr(Appc.globals.g_kSystemWrapper)
g_kConfigMapping = TGConfigMappingPtr(Appc.globals.g_kConfigMapping)
# ... ~100 globals total
```

## Constants Section (lines 12635-13170)
```python
CT_SHIP = Appc.CT_SHIP  # ~200 CT_* constants
ET_QUIT = Appc.ET_QUIT  # ~260 ET_* constants
# Plus SPECIES_*, TEAM_*, TGNETWORK_*, MWT_*, MAX_*, etc.
# ~816 constants total, all delegated to Appc
```

## Implications for OpenBC
Since we reimplement BOTH Appc (C extension) AND App.py (Python wrapper),
we should rewrite App.py for Python 3.x rather than source-transforming it.
This eliminates all `apply()`, `new.instancemethod()`, and `raise X, msg` in one step.
The rewritten App.py maintains identical API but uses modern Python syntax:
- `apply(f, args)` -> `f(*args)`
- `new.instancemethod(f, None, C)` -> direct method assignment or descriptors
- `raise AttributeError, name` -> `raise AttributeError(name)`
